<!DOCTYPE HTML>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>无标题文档</title>
<style>
	*{margin:0; padding: 0; }
	div{width:100px; height: 100px; background-color: red; position: absolute; }
</style>
<script>
window.onload = function() {
	
	var oDiv = document.getElementById('div1');
	
	document.onkeydown = function(ev){
		var oEvt = ev || event;

		switch(oEvt.keyCode){
			case 37:
					oDiv.style.left=oDiv.offsetLeft - 10 +'px';
					break;

			case 38:
					oDiv.style.top=oDiv.offsetTop - 10 +'px';
					break;

			case 39:
					oDiv.style.left=oDiv.offsetLeft + 10 +'px';
					break;

			case 40:
					oDiv.style.top=oDiv.offsetTop + 10 +'px';
					break;
		}
		
			 
			
			
		
	}

	function move(obj,attr,dir,target,endFn){
		dir = getStyle(obj,attr)-target < 0 ? dir:-dir;

		obj.timer = setInterval(function(){
			var speed = getStyle(obj,attr)+dir;

			if (speed > target && dir>0 || speed < target && dir<0) {
				speed = target;
			}

			if (speed == target) {
				clearInterval(obj.timer);
				endFn && endFn();
			}

			obj.style[attr]=speed+'px';
		},30)
	}

	function getStyle(obj,attr){
		return obj.currentStyle[attr]?obj.currentStyle[attr]:getComputedStyle(obj,false)[attr];
	}
}
</script>
</head>

<body>
	<div id="div1"></div>
</body>
</html>
