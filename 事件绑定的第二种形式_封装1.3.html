<!DOCTYPE HTML>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>无标题文档</title>
<style>
	*{margin:0; padding: 0; }
	div{padding:40px; }
	#div1{background-color: #f6c; }
	#div2{background-color: #0f0;}
	#div3{background-color: yellow;}
</style>
<script>
	window.onload = function(){
		var oDiv1 = document.getElementById('div1'),
			oDiv2 = document.getElementById('div2'),
			oDiv3 = document.getElementById('div3');

		function fn1(){
			alert(this.id)
		}

	

		bind(oDiv1,'click',fn1);
		bind(oDiv2,'click',fn1);
		bind(oDiv3,'click',fn1);

		function bind(obj,evName,fnName){
			if (obj.attachEvent) {
				obj.attachEvent('on'+evName,function(){
					fnName.call(obj);
				},false)
			}else{
				obj.addEventListener(evName,fnName)
			}
		}
	}
</script>

</head>

<body>
	<div id="div1">
		<div id="div2">
			<div id="div3"></div>
		</div>
	</div>
</body>
</html>
