<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>图片加载进度</title>
<style>
*{ margin:0; padding:0; list-style:none; font-family: "微软雅黑","张海山锐线体简"}
img{width:50px;}
#div1{width:500px; height: 30px; background:#ccc; position: relative; }
#div1 #div2{width:50%; background-color: #333; height: 30px; overflow: hidden; position: relative; }
#div1 span{position: absolute; left: 0; top: 0; width: 500px; height: 30px; text-align: center; line-height: 30px; color: #000; }
#div2 span{color: #fff; }
</style>
<script>
//1.加载多张图片	0-----76
//http://www.zhinengshe.com/works/3525/img/0.jpg

window.onload=function(){
	var oDiv2=document.getElementById('div2');
	var oSpan=document.getElementById('s');
	var oSpanPan=document.getElementById('ss');

	var count=77;
	var loaded=0;
	for (var i = 0; i < count; i++) {
		var oImg=new Image();
		oImg.onload=function(){
			loaded++;
			var progress=Math.floor(loaded/count*100)+'%';
			oDiv2.style.width=progress;
			oSpan.innerHTML=progress;
			oSpanPan.innerHTML=progress;

			console.log(loaded);
		}
		
		
		
		oImg.src='http://www.zhinengshe.com/works/3525/img/'+i+'.jpg';

		document.body.appendChild(oImg);

	}
	
};
</script>
</head>

<body>
<div id="div1">
	<span id="s"></span>
	<div id="div2">
		<span id="ss"></span>
	</div>
</div>

</body>
</html>
