
<!DOCTYPE HTML>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>无标题文档</title>
<script>
	window.onload=function(){
		var oUl=document.getElementById("list"),
			aLi=oUl.getElementsByTagName("li"),
			oP=document.getElementsByTagName("p")[0],
			aStrong=oUl.getElementsByTagName("strong"),
			arr2=[],
			sum=0;

			for (var i = 0; i < aLi.length; i++) {
				cal(aLi[i],aStrong[i]);

			// oP.innerHTML="商品合计共："+Number(aStrong[i].innerHTML)+"件，共花费了：0元"
			}

			function cal(oLi,piece){
				var aBtn=oLi.getElementsByTagName("input"),
					oStrong=oLi.getElementsByTagName("strong")[0],
					oEm=oLi.getElementsByTagName("em")[0],
					oSpan=oLi.getElementsByTagName("span")[0],
					n1=Number(oStrong.innerHTML),
					n2=parseFloat(oEm.innerHTML),
					arr=[],
					oSum=document.getElementById("sum");
				aBtn[1].onclick=function(){
					n1++;
					oStrong.innerHTML=n1;
					piece=n1;
					oSpan.innerHTML=n1*n2+"元";
					arr.push(piece);
					arr2.push(arr[arr.length-1]);
					console.log(arr2)
				}
				aBtn[0].onclick=function(){
					n1 --;
					if ( n1 < 0 ) {
						n1 = 0;
					}

					oStrong.innerHTML=n1;
					oSpan.innerHTML=n1*n2+"元";
					piece=n1;
					arr.push(piece);
					arr2.push(arr[arr.length-1]);
					console.log(arr2)
				}
			}


			

	}

	
</script>
</head>

<body>

<ul id="list">
	<li>
  	<input type="button" value="-" />
    <strong>0</strong>
  	<input type="button" value="+" />
    单价：<em>12.5元</em>
    小计：<span>0元</span>
  </li>
	<li>
  	<input type="button" value="-" />
    <strong>0</strong>
  	<input type="button" value="+" />
    单价：<em>10.5元</em>
    小计：<span>0元</span>
  </li>
	<li>
  	<input type="button" value="-" />
    <strong>0</strong>
  	<input type="button" value="+" />
    单价：<em>8.5元</em>
    小计：<span>0元</span>
  </li>
	<li>
  	<input type="button" value="-" />
    <strong>0</strong>
  	<input type="button" value="+" />
    单价：<em>8元</em>
    小计：<span>0元</span>
  </li>
	<li>
  	<input type="button" value="-" />
    <strong>0</strong>
  	<input type="button" value="+" />
    单价：<em>14.5元</em>
    小计：<span>0元</span>
  </li>
</ul>

<p>
商品合计共：0件，共花费了：0元<br />
其中最贵的商品单价是：0元
</p>
<div id="sum"></div>

</body>
</html>
