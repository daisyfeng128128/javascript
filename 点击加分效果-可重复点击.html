
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta charset="UTF-8">
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<title>点击加分效果-可重复点击</title>
<style>
#banner{width:500px;height:50px;position:relative;border:1px solid #000;margin:100px auto;}
.strong0{width:50px;height:50px;position:absolute;left:0px;top:0px;line-height:50px;text-align:center;font-size:20px;z-index:2;}
.strong1{width:50px;height:50px;position:absolute;left:50px;top:0px;line-height:50px;text-align:center;font-size:20px;z-index:2;}
.strong2{width:50px;height:50px;position:absolute;left:100px;top:0px;line-height:50px;text-align:center;font-size:20px;z-index:2;}
.strong3{width:50px;height:50px;position:absolute;left:150px;top:0px;line-height:50px;text-align:center;font-size:20px;z-index:2;}
.strong4{width:50px;height:50px;position:absolute;left:200px;top:0px;line-height:50px;text-align:center;font-size:20px;z-index:2;}
.strong5{width:50px;height:50px;position:absolute;left:250px;top:0px;line-height:50px;text-align:center;font-size:20px;z-index:2;}
.strong6{width:50px;height:50px;position:absolute;left:300px;top:0px;line-height:50px;text-align:center;font-size:20px;z-index:2;}
.strong7{width:50px;height:50px;position:absolute;left:350px;top:0px;line-height:50px;text-align:center;font-size:20px;z-index:2;}
.strong8{width:50px;height:50px;position:absolute;left:400px;top:0px;line-height:50px;text-align:center;font-size:20px;z-index:2;}
.strong9{width:50px;height:50px;position:absolute;left:450px;top:0px;line-height:50px;text-align:center;font-size:20px;z-index:2;}
</style>
<script src='chenMing.js'></script>
<script>
window.onload = function(){
	var oBanner = document.getElementById('banner');
	var aDiv = oBanner.getElementsByTagName('div');
	var aStrong = oBanner.getElementsByTagName('strong');
	var timer = null;
	var num = 0;
	
	//进度条的前进距离的变化
	function Mdiv(){
		oBanner.timer = setInterval(function(){
		   oBanner.innerHTML += '<div style="width:50px;height:50px;position:absolute;left:'+num*50+'px;top:0px;background:blue;z-index:1;"></div>';
		   num++;
		   if(num == 10){
			// num = 0;
			 clearInterval(oBanner.timer);
			 //进度条的透明度变化
			 timer = setInterval(function(){
			 	  num--;
			/*	  for(var i = 0;i < aDiv.length;i++){
					 aDiv[i].style.opacity = num*0.1;
					 if(num == 0){
						clearInterval(timer);
					 }		
				 }*/
				 
				 oPacity();
			 },200);
				
		   }
	   },200);
	};

	//进度条的透明度变化
    function oPacity(){
	   	for(var i = 0;i < aDiv.length;i++){
			aDiv[i].style.opacity = num*0.1;
			 if(num == 0){
				clearInterval(timer);
			}		
		}
	};
	
	oBanner.onclick = function(){
	   clearInterval(oBanner.timer);
	   clearInterval(timer);
	   Mdiv();
	};
	
};
</script>

</head>

<body>
<div id='banner'>
<strong class='strong0'>+1</strong>
<strong class='strong1'>+1</strong>
<strong class='strong2'>+1</strong>
<strong class='strong3'>+1</strong>
<strong class='strong4'>+1</strong>
<strong class='strong5'>+1</strong>
<strong class='strong6'>+1</strong>
<strong class='strong7'>+1</strong>
<strong class='strong8'>+1</strong>
<strong class='strong9'>+1</strong>
</div>
</body>
</html>

